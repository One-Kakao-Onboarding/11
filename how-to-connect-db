1
Install the following
npm install postgres

2
Add file to project
db.js
import postgres from 'postgres'

const connectionString = process.env.DATABASE_URL
const sql = postgres(connectionString)

export default sql

3
Connect to your database
Session pooler
Shared Pooler
Only recommended as an alternative to Direct Connection, when connecting via an IPv4 network.

.env
DATABASE_URL=postgresql://postgres.fhnxqzewuebeltesntaj:[YOUR-PASSWORD]@aws-1-ap-northeast-2.pooler.supabase.com:5432/postgres


View parameters
IPv4 compatible
Session pooler connections are IPv4 proxied for free
Only use on a IPv4 network
Session pooler connections are IPv4 proxied for free.

Use Direct Connection if connecting via an IPv6 network.